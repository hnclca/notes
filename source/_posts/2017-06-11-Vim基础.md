---
title: Vim基础
comments: false
toc: true
date: 2017-06-11 17:07:10
tags:
	- editor
	- tools
---

### 命令参数
##### 启动参数

* -r	恢复模式
* -x	加密文件

### 模式
##### 分类
* 普通模式（默认）
进入后的默认模式，使用字母或字母组合作为快捷键移动光标，操作文本等；

* 插入模式
编辑器模式，其他大多编辑进入的默认模式；

* 命令模式
底部命令模式，可以完成保存、退出、搜索等功能；

<!-- more -->

* 可视模式（非常用）
类似于普通模式，移动光标时会高亮选择光标包括的文本区域，此时执行非移动命令时，该命令会作用于高亮区域上；

* 选择模式（非常用）
类似于无模式编辑器，使用鼠标或方向键高亮选择文本，输入任意字符时会替换高亮文本块，并进入切换为插入模式；

* Ex模式（非常用）
类似于命令模式，可一次执行多条命令；

##### 模式切换
* 普通模式 -> 插入模式：插入命令字符（i, a, I, A, o, O, cw）
* 插入模式 -> 普通模式：Esc, Ctrl+[
* 普通模式 -> 命令模式：:

### 常用快捷键
##### 光标移动
| 命令 | 说明 |
|:-:|:-:|
|h|左移一字符|
|l|右移一字符|
|j|上移一字符|
|k|下移一字符|
|w|移到下一单词头|
|b|移到上一单词头|
|e|移到下一单词尾|
|ge|移到上一单词尾|
|0或^|移到当前行行头|
|$|移到当前行行尾|
|nG|移动到第n行行首|
|gg|移动到第一行行首|
|G|移动到最后一行行尾|
|f<字母>|向后搜索<字母>并跳转到第一个匹配位置|
|F<字母>|向前搜索<字母>并跳转到第一个匹配位置|
|t<字母>|向后搜索<字母>并跳转到第一个匹配位置之前的一个字母|
|T<字母>|向前搜索<字母>并跳转到第一个匹配位置之后的一个字母|
|ctrl + o|回到上一次光标所在位置|

##### 复制文本
| 命令 | 说明 |
|:-:|:-:|
|yy|复制当前行|
|y0或y^|复制至行首，不包含光标所在字符|
|y$|复制到行尾，包含光标所在字符|
|ynw|复制n个单词|
|yG|复制到文本末|
|y1G|复制到文本头|

##### 粘贴文本
| 命令 | 说明 |
|:-:|:-:|
|p|粘贴至光标后|
|P|粘贴至光标前|

##### 删除文本
| 命令 | 说明 |
|:-:|:-:|
|x|删除当前字符|
|X|删除光标前一字符|
|dd|删除整行|
|ddp|快速交换光标所在行与下一行|
|dw|删除一个单词|
|d$或D|删除至行尾|
|d^|删除至行首|
|dG|删除至文档尾|
|d1G|删除至文档首|

##### 替换与撤销
| 命令 | 说明 |
|:-:|:-:|
|r<字母>|替换单个字符|
|R|连续替换，直到ESC退出|
|cw|替换单个单词，并进入插入模式|
|cc|替换整行，并进入插入模式|
|C|替换游标以后至行尾|
|~|反转大小写|
|u{n}|撤销n次操作|
|U|撤销当前行的所有修改|
|ctrl + r|redo，撤销undo的操作|

##### 快速缩进
指定缩进宽度（命令模式：set shiftwidth＝4）

| 命令 | 说明 |
|:-:|:-:|
|>>|向右缩进|
|<<|向左缩进|

##### 查找
| 命令 | 说明 |
|:-:|:-:|
|/|向下查找|
|?|向上查找|
|n|跳转到下一个匹配结果|
|N|跳转到上一个匹配结果|
|\*|向下寻找光标所在处的单词|
|\#|向上寻找光标所在处的单词|
|g\*|向下寻找光标所在处的单词，部分匹配（未能验证）|
|g\#|向上寻找光标所在处的单词，部分匹配（未能验证）|

##### 保存退出
shift+zz

### 常用命令
##### 退出命令
| 命令 | 说明 |
|:-:|:-:|
|:q|退出（无任何修改）|
|:q!|强制退出，不保存|
|:wq 或 :x|保存并退出|
|:wq!|强制保存并退出|
|:w <path> 或 :saveas <path>|另存为|

##### 打开命令
| 命令 | 说明 |
|:-:|:-:|
|:e filepath|打开指定文件|